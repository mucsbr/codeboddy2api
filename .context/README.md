# CB2API 项目上下文存储

这个目录包含了CB2API项目的完整上下文信息，用于助手之间的知识传递和项目状态维护。

## 文件结构

### 核心上下文文件

- **`project_context.json`** - 完整的项目上下文，包含所有关键信息
- **`quick_context.md`** - 快速上下文摘要，适用于新助手快速了解项目状态
- **`technical_decisions.md`** - 技术决策记录，包含设计决策的详细说明和理由
- **`code_patterns.md`** - 代码模式和最佳实践，包含编程约定和常用模式

### 使用说明

#### 对于新助手
1. 首先阅读 `quick_context.md` 了解项目当前状态
2. 如需深入了解，查看 `project_context.json` 获取完整信息
3. 查看 `technical_decisions.md` 理解关键设计决策
4. 参考 `code_patterns.md` 遵循项目编码规范

#### 对于项目维护
- 重大变更后更新相应的上下文文件
- 新的技术决策记录在 `technical_decisions.md`
- 新的代码模式添加到 `code_patterns.md`
- 定期更新 `project_context.json` 中的状态信息

## 项目概览

**CB2API** 是一个CodeBuddy API代理系统，主要特性：

- 🔄 **双服务架构**: 主服务(8000) + 格式代理(8181)
- 🛠️ **工具调用修复**: 解决用户中断导致的消息序列问题
- 🔐 **Token管理**: 自动轮换和错误恢复
- 📡 **API兼容**: 支持OpenAI和Anthropic格式

## 最新状态

✅ **已完成**: 工具调用中断修复功能
🔧 **当前**: 维护和优化阶段
📋 **计划**: 性能优化和监控改进

## 关键技术决策

1. **源头修复原则** - 只在main.py修复工具调用序列
2. **通用重排策略** - 统一处理所有插入的用户消息
3. **完整性保证** - 不丢失任何消息内容

详细信息请查看相应的上下文文件。